module.exports=[10179,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(10849),e=a.i(15618),f=a.i(70106);let g=(0,f.default)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var h=a.i(81560),i=a.i(14548),j=a.i(33508);let k=(0,f.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);function l(){let[a,f]=(0,c.useState)([]),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)({name:"",role:"Receptionist"});async function r(){m(!0);let{data:a}=await d.supabase.from("staff").select("*").order("id",{ascending:!0});a&&f(a),m(!1)}async function s(){if(!p.name||!p.role)return alert("Vui lòng nhập tên và chức vụ");if(n){let{error:a}=await d.supabase.from("staff").update(p).eq("id",n);a||(o(null),q({name:"",role:"Receptionist"}),r())}else{let{error:a}=await d.supabase.from("staff").insert([p]);a||(q({name:"",role:"Receptionist"}),r())}}async function t(a,b){let{error:c}=await d.supabase.from("staff").update({is_active:!b}).eq("id",a);c||r()}return(0,c.useEffect)(()=>{r()},[]),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,b.jsx)(k,{size:20,className:"text-primary"})," Quản lý Nhân sự"]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 flex gap-4 items-end border",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:"Họ tên nhân viên"}),(0,b.jsx)("input",{type:"text",className:"w-full border p-2 rounded text-sm",placeholder:"VD: Nguyễn Văn A",value:p.name,onChange:a=>q({...p,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"w-48",children:[(0,b.jsx)("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:"Chức vụ"}),(0,b.jsxs)("select",{className:"w-full border p-2 rounded text-sm",value:p.role,onChange:a=>q({...p,role:a.target.value}),children:[(0,b.jsx)("option",{value:"Receptionist",children:"Lễ tân"}),(0,b.jsx)("option",{value:"Doctor",children:"Bác sĩ"}),(0,b.jsx)("option",{value:"Technician",children:"Kỹ thuật viên"})]})]}),(0,b.jsxs)("button",{onClick:s,className:"bg-primary text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-600 transition-colors text-sm",children:[n?(0,b.jsx)(i.Save,{size:16}):(0,b.jsx)(e.Plus,{size:16}),n?"Lưu":"Thêm"]}),n&&(0,b.jsx)("button",{onClick:function(){o(null),q({name:"",role:"Receptionist"})},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300 transition-colors text-sm",children:(0,b.jsx)(j.X,{size:16})})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-100 text-gray-600 font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3 rounded-tl-lg",children:"ID"}),(0,b.jsx)("th",{className:"p-3",children:"Họ tên"}),(0,b.jsx)("th",{className:"p-3",children:"Chức vụ"}),(0,b.jsx)("th",{className:"p-3",children:"Trạng thái"}),(0,b.jsx)("th",{className:"p-3 rounded-tr-lg text-right",children:"Thao tác"})]})}),(0,b.jsx)("tbody",{className:"divide-y",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsxs)("td",{className:"p-3 text-gray-500",children:["#",a.id]}),(0,b.jsx)("td",{className:"p-3 font-medium",children:a.name}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium border ${"Doctor"===a.role?"bg-blue-50 text-blue-700 border-blue-200":"Receptionist"===a.role?"bg-purple-50 text-purple-700 border-purple-200":"bg-orange-50 text-orange-700 border-orange-200"}`,children:"Doctor"===a.role?"Bác sĩ":"Receptionist"===a.role?"Lễ tân":"KTV"})}),(0,b.jsx)("td",{className:"p-3",children:(0,b.jsxs)("span",{className:`text-xs flex items-center gap-1 ${a.is_active?"text-green-600":"text-gray-400"}`,children:[(0,b.jsx)("span",{className:`w-2 h-2 rounded-full ${a.is_active?"bg-green-500":"bg-gray-300"}`}),a.is_active?"Hoạt động":"Đã ẩn"]})}),(0,b.jsxs)("td",{className:"p-3 text-right flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>{o(a.id),q({name:a.name,role:a.role})},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",title:"Sửa",children:(0,b.jsx)(g,{size:16})}),(0,b.jsx)("button",{onClick:()=>t(a.id,a.is_active),className:`p-1.5 rounded transition-colors ${a.is_active?"text-red-500 hover:bg-red-50":"text-green-500 hover:bg-green-50"}`,title:a.is_active?"Ẩn nhân viên":"Kích hoạt lại",children:a.is_active?(0,b.jsx)(h.Trash2,{size:16}):(0,b.jsx)(i.Save,{size:16})})]})]},a.id))})]})})]})}var m=a.i(87532),n=a.i(46842),o=a.i(91965),p=a.i(41993);function q(){let[a,e]=(0,c.useState)([]),[f,k]=(0,c.useState)(!1),[l,q]=(0,c.useState)(""),[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)({}),[v,w]=(0,c.useState)(null);async function x(){k(!0);let{data:a}=await d.supabase.from("patients").select("*").order("created_at",{ascending:!1}).limit(20);a&&e(a),k(!1)}async function y(){if(!l)return void x();k(!0);let{data:a}=await d.supabase.from("patients").select("*").or(`full_name.ilike.%${l}%,cccd.eq.${l}`).limit(20);a&&e(a),k(!1)}async function z(){if(!r)return;let{error:b}=await d.supabase.from("patients").update(t).eq("id",r);b?alert("Lỗi khi lưu!"):(k(!0),e(a.map(a=>a.id===r?{...a,...t}:a)),s(null),k(!1))}async function A(b){if(!confirm("Hành động này không thể hoàn tác. Bạn chắc chắn chứ?"))return;k(!0),await d.supabase.from("visits").delete().eq("patient_id",b);let{error:c}=await d.supabase.from("patients").delete().eq("id",b);c?alert("Lỗi khi xóa: "+c.message):(e(a.filter(a=>a.id!==b)),alert("Đã xóa bệnh nhân thành công.")),k(!1)}return(0,c.useEffect)(()=>{x()},[]),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,b.jsx)(n.User,{size:20,className:"text-primary"})," Quản lý Bệnh nhân"]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,b.jsx)("input",{type:"text",className:"flex-1 border p-2 rounded-lg text-sm",placeholder:"Tìm theo Tên hoặc CCCD...",value:l,onChange:a=>q(a.target.value),onKeyDown:a=>"Enter"===a.key&&y()}),(0,b.jsxs)("button",{onClick:y,className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 text-sm",children:[(0,b.jsx)(m.Search,{size:16})," Tìm kiếm"]})]}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-100 text-gray-600 font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3 rounded-tl-lg",children:"CCCD"}),(0,b.jsx)("th",{className:"p-3",children:"Họ tên"}),(0,b.jsx)("th",{className:"p-3",children:"Năm sinh"}),(0,b.jsx)("th",{className:"p-3",children:"SĐT"}),(0,b.jsx)("th",{className:"p-3",children:"Địa chỉ"}),(0,b.jsx)("th",{className:"p-3 rounded-tr-lg text-right",children:"Sửa"})]})}),(0,b.jsxs)("tbody",{className:"divide-y",children:[f&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"p-4 text-center text-gray-400",children:"Đang tải..."})}),!f&&0===a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:6,className:"p-4 text-center text-gray-400 italic",children:"Nhập từ khóa để tìm kiếm..."})}),a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-3",children:r===a.id?(0,b.jsx)("input",{value:t.cccd||"",onChange:a=>u({...t,cccd:a.target.value}),className:"w-full border p-1 rounded"}):a.cccd}),(0,b.jsx)("td",{className:"p-3 font-medium",children:r===a.id?(0,b.jsx)("input",{value:t.full_name||"",onChange:a=>u({...t,full_name:a.target.value}),className:"w-full border p-1 rounded"}):a.full_name}),(0,b.jsx)("td",{className:"p-3",children:r===a.id?(0,b.jsx)("input",{type:"date",value:t.dob?new Date(t.dob).toISOString().split("T")[0]:"",onChange:a=>u({...t,dob:a.target.value}),className:"w-24 border p-1 rounded"}):a.dob?new Date(a.dob).getFullYear():"-"}),(0,b.jsx)("td",{className:"p-3",children:r===a.id?(0,b.jsx)("input",{value:t.phone||"",onChange:a=>u({...t,phone:a.target.value}),className:"w-full border p-1 rounded"}):a.phone}),(0,b.jsx)("td",{className:"p-3 max-w-[200px] truncate",title:a.address||"",children:r===a.id?(0,b.jsx)("input",{value:t.address||"",onChange:a=>u({...t,address:a.target.value}),className:"w-full border p-1 rounded"}):a.address}),(0,b.jsx)("td",{className:"p-3 text-right",children:r===a.id?(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:z,className:"text-green-600 hover:bg-green-50 p-1.5 rounded",children:(0,b.jsx)(i.Save,{size:16})}),(0,b.jsx)("button",{onClick:()=>s(null),className:"text-gray-500 hover:bg-gray-100 p-1.5 rounded",children:(0,b.jsx)(j.X,{size:16})})]}):(0,b.jsxs)("div",{className:"flex gap-1 justify-end",children:[(0,b.jsx)("button",{onClick:()=>{s(a.id),u({...a})},className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",title:"Sửa",children:(0,b.jsx)(g,{size:16})}),(0,b.jsx)("button",{onClick:()=>w(a),className:"text-purple-600 hover:bg-purple-50 p-1.5 rounded",title:"Xem bệnh sử",children:(0,b.jsx)(o.History,{size:16})}),(0,b.jsx)("button",{onClick:()=>{confirm(`CẢNH B\xc1O: X\xf3a bệnh nh\xe2n ${a.full_name} sẽ x\xf3a to\xe0n bộ lịch sử kh\xe1m!
Bạn c\xf3 chắc chắn kh\xf4ng?`)&&A(a.id)},className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:"Xóa vĩnh viễn",children:(0,b.jsx)(h.Trash2,{size:16})})]})})]},a.id))]})]})}),v&&(0,b.jsx)(p.default,{patient:v,onClose:()=>w(null)})]})}let r=(0,f.default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var s=a.i(16201),t=a.i(92e3);function u(){let[a,f]=(0,c.useState)([]),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)({name:"",price:""}),[o,p]=(0,c.useState)(null),[q,u]=(0,c.useState)({price:"",name:""}),[v,w]=(0,c.useState)(null);async function x(){l(!0);let{data:a,error:b}=await d.supabase.from("service_catalog").select("*").order("id",{ascending:!0});a?f(a):b&&(console.error(b),"42P01"===b.code&&w({type:"error",text:'Bảng dữ liệu "service_catalog" chưa được tạo. Vui lòng chạy SQL trong db/schema.sql'})),l(!1)}async function y(){if(!m.name||!m.price)return;l(!0);let{error:a}=await d.supabase.from("service_catalog").insert([{name:m.name,price:Number(m.price),is_active:!0}]);a?w({type:"error",text:"Lỗi: "+a.message}):(n({name:"",price:""}),x(),w({type:"success",text:"Thêm dịch vụ thành công"})),l(!1)}async function z(a){l(!0);let{error:b}=await d.supabase.from("service_catalog").update({name:q.name,price:Number(q.price)}).eq("id",a);b?w({type:"error",text:"Lỗi cập nhật: "+b.message}):(p(null),x(),w({type:"success",text:"Cập nhật thành công"})),l(!1)}async function A(a,b){let{error:c}=await d.supabase.from("service_catalog").update({is_active:!b}).eq("id",a);c||x()}async function B(a){if(!confirm("Bạn có chắc muốn xóa dịch vụ này?"))return;let{error:b}=await d.supabase.from("service_catalog").delete().eq("id",a);b?w({type:"error",text:"Lỗi xóa: "+b.message}):(x(),w({type:"success",text:"Đã xóa dịch vụ"}))}return(0,c.useEffect)(()=>{x()},[]),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,b.jsx)(r,{size:20,className:"text-primary"})," Quản lý Dịch vụ & Bảng giá"]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 flex gap-3 items-end border",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Tên dịch vụ"}),(0,b.jsx)("input",{className:"w-full border p-2 rounded text-sm",placeholder:"Ví dụ: Siêu âm bụng, X-Quang...",value:m.name,onChange:a=>n({...m,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"w-40",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Đơn giá (VNĐ)"}),(0,b.jsx)("input",{type:"number",className:"w-full border p-2 rounded text-sm",placeholder:"0",value:m.price,onChange:a=>n({...m,price:a.target.value})})]}),(0,b.jsxs)("button",{onClick:y,disabled:k||!m.name||!m.price,className:"bg-primary text-white px-4 py-2 rounded hover:bg-blue-600 disabled:opacity-50 flex items-center gap-2 text-sm h-[38px]",children:[(0,b.jsx)(e.Plus,{size:16})," Thêm"]})]}),v&&(0,b.jsxs)("div",{className:`mb-4 p-3 rounded flex items-center gap-2 text-sm ${"success"===v.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:["success"===v.type?(0,b.jsx)(s.CheckCircle,{size:16}):(0,b.jsx)(t.AlertCircle,{size:16}),v.text]}),(0,b.jsx)("div",{className:"overflow-hidden border rounded-lg",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-100 text-gray-600 font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3",children:"Tên dịch vụ"}),(0,b.jsx)("th",{className:"p-3 text-right",children:"Đơn giá"}),(0,b.jsx)("th",{className:"p-3 text-center",children:"Trạng thái"}),(0,b.jsx)("th",{className:"p-3 text-right",children:"Thao tác"})]})}),(0,b.jsxs)("tbody",{className:"divide-y",children:[0===a.length&&!k&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"p-4 text-center text-gray-400",children:"Chưa có dịch vụ nào."})}),a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-3",children:o===a.id?(0,b.jsx)("input",{value:q.name,onChange:a=>u({...q,name:a.target.value}),className:"border p-1 rounded w-full"}):(0,b.jsx)("span",{className:a.is_active?"":"text-gray-400 line-through",children:a.name})}),(0,b.jsx)("td",{className:"p-3 text-right font-mono",children:o===a.id?(0,b.jsx)("input",{type:"number",value:q.price,onChange:a=>u({...q,price:a.target.value}),className:"border p-1 rounded w-32 text-right"}):a.price.toLocaleString("vi-VN")+" ₫"}),(0,b.jsx)("td",{className:"p-3 text-center",children:(0,b.jsx)("button",{onClick:()=>A(a.id,a.is_active),className:`px-2 py-0.5 rounded text-xs border ${a.is_active?"bg-green-50 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200"}`,children:a.is_active?"Đang dùng":"Đã ẩn"})}),(0,b.jsx)("td",{className:"p-3 text-right",children:o===a.id?(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>z(a.id),className:"text-green-600 p-1 hover:bg-green-50 rounded",children:(0,b.jsx)(i.Save,{size:16})}),(0,b.jsx)("button",{onClick:()=>p(null),className:"text-gray-500 p-1 hover:bg-gray-100 rounded",children:(0,b.jsx)(j.X,{size:16})})]}):(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>{p(a.id),u({name:a.name,price:a.price.toString()})},className:"text-blue-600 p-1 hover:bg-blue-50 rounded",children:(0,b.jsx)(g,{size:16})}),(0,b.jsx)("button",{onClick:()=>B(a.id),className:"text-red-600 p-1 hover:bg-red-50 rounded",children:(0,b.jsx)(h.Trash2,{size:16})})]})})]},a.id))]})]})})]})}var v=a.i(3858);function w(){let[a,f]=(0,c.useState)([]),[k,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)({name:"",unit:""}),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)({name:"",unit:""}),[u,w]=(0,c.useState)(null);async function x(){l(!0);let{data:a,error:b}=await d.supabase.from("medications").select("id, name, unit, is_active").order("name",{ascending:!0});a?f(a):b&&(console.error("Error fetching meds:",b),w({type:"error",text:"Lỗi tải danh sách thuốc: "+(b.message||"Không rõ")})),l(!1)}async function y(){if(!m.name||!m.unit)return;l(!0);let{error:a}=await d.supabase.from("medications").insert([{name:m.name,unit:m.unit,is_active:!0}]);a?w({type:"error",text:"Lỗi: "+a.message}):(n({name:"",unit:""}),x(),w({type:"success",text:"Thêm thuốc thành công"})),l(!1)}async function z(a){l(!0);let{error:b}=await d.supabase.from("medications").update({name:q.name,unit:q.unit}).eq("id",a);b?w({type:"error",text:"Lỗi cập nhật: "+b.message}):(p(null),x(),w({type:"success",text:"Cập nhật thành công"})),l(!1)}async function A(a,b){let{error:c}=await d.supabase.from("medications").update({is_active:!b}).eq("id",a);c||x()}async function B(a){if(!confirm("Bạn có chắc muốn xóa thuốc này?"))return;let{error:b}=await d.supabase.from("medications").delete().eq("id",a);b?w({type:"error",text:"Lỗi xóa: "+b.message}):(x(),w({type:"success",text:"Đã xóa thuốc"}))}return(0,c.useEffect)(()=>{x()},[]),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,b.jsx)(v.Pill,{size:20,className:"text-primary"})," Danh sách Thuốc (Đơn giản)"]}),(0,b.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 flex gap-3 items-end border",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Tên thuốc"}),(0,b.jsx)("input",{className:"w-full border p-2 rounded text-sm",placeholder:"Ví dụ: Paracetamol 500mg...",value:m.name,onChange:a=>n({...m,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"w-32",children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Đơn vị"}),(0,b.jsx)("input",{className:"w-full border p-2 rounded text-sm",placeholder:"Viên, Vỉ...",value:m.unit,onChange:a=>n({...m,unit:a.target.value})})]}),(0,b.jsxs)("button",{onClick:y,disabled:k||!m.name||!m.unit,className:"bg-primary text-white px-4 py-2 rounded hover:bg-blue-600 disabled:opacity-50 flex items-center gap-2 text-sm h-[38px]",children:[(0,b.jsx)(e.Plus,{size:16})," Thêm"]})]}),u&&(0,b.jsxs)("div",{className:`mb-4 p-3 rounded flex items-center gap-2 text-sm ${"success"===u.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:["success"===u.type?(0,b.jsx)(s.CheckCircle,{size:16}):(0,b.jsx)(t.AlertCircle,{size:16}),u.text]}),(0,b.jsx)("div",{className:"overflow-hidden border rounded-lg",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,b.jsx)("thead",{className:"bg-gray-100 text-gray-600 font-medium",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"p-3",children:"Tên thuốc"}),(0,b.jsx)("th",{className:"p-3 w-32",children:"Đơn vị"}),(0,b.jsx)("th",{className:"p-3 text-center w-32",children:"Trạng thái"}),(0,b.jsx)("th",{className:"p-3 text-right w-24",children:"Thao tác"})]})}),(0,b.jsxs)("tbody",{className:"divide-y",children:[0===a.length&&!k&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:4,className:"p-4 text-center text-gray-400",children:"Danh sách trống."})}),a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"p-3",children:o===a.id?(0,b.jsx)("input",{value:q.name,onChange:a=>r({...q,name:a.target.value}),className:"border p-1 rounded w-full"}):(0,b.jsxs)("div",{className:"font-medium",children:[a.name,!a.is_active&&(0,b.jsx)("span",{className:"ml-2 text-xs bg-gray-200 text-gray-500 px-1 rounded",children:"Đã ẩn"})]})}),(0,b.jsx)("td",{className:"p-3",children:o===a.id?(0,b.jsx)("input",{value:q.unit,onChange:a=>r({...q,unit:a.target.value}),className:"border p-1 rounded w-full"}):(0,b.jsx)("span",{className:"text-gray-500",children:a.unit})}),(0,b.jsx)("td",{className:"p-3 text-center",children:(0,b.jsx)("button",{onClick:()=>A(a.id,a.is_active),className:`px-2 py-0.5 rounded text-xs border ${a.is_active?"bg-green-50 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200"}`,children:a.is_active?"Hiện":"Ẩn"})}),(0,b.jsx)("td",{className:"p-3 text-right",children:o===a.id?(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>z(a.id),className:"text-green-600 p-1 hover:bg-green-50 rounded",children:(0,b.jsx)(i.Save,{size:16})}),(0,b.jsx)("button",{onClick:()=>p(null),className:"text-gray-500 p-1 hover:bg-gray-100 rounded",children:(0,b.jsx)(j.X,{size:16})})]}):(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)("button",{onClick:()=>{p(a.id),r({name:a.name,unit:a.unit})},className:"text-blue-600 p-1 hover:bg-blue-50 rounded",children:(0,b.jsx)(g,{size:16})}),(0,b.jsx)("button",{onClick:()=>B(a.id),className:"text-red-600 p-1 hover:bg-red-50 rounded",children:(0,b.jsx)(h.Trash2,{size:16})})]})})]},a.id))]})]})})]})}let x=(0,f.default)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var y=a.i(60246);function z(){let[a,d]=(0,c.useState)("staff");return(0,b.jsxs)("div",{className:"container mx-auto p-4 max-w-6xl",children:[(0,b.jsxs)("header",{className:"mb-8",children:[(0,b.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[(0,b.jsx)(x,{className:"text-primary",size:32}),"Quản trị Hệ thống"]}),(0,b.jsx)("p",{className:"text-gray-500 mt-2",children:"Quản lý nhân sự, dịch vụ và kho thuốc"})]}),(0,b.jsxs)("div",{className:"flex gap-2 mb-6 border-b overflow-x-auto",children:[(0,b.jsxs)("button",{onClick:()=>d("staff"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${"staff"===a?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,b.jsx)(y.Users,{size:18})," Nhân sự"]}),(0,b.jsxs)("button",{onClick:()=>d("patients"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${"patients"===a?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,b.jsx)(y.Users,{size:18})," Bệnh nhân"]}),(0,b.jsxs)("button",{onClick:()=>d("services"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${"services"===a?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,b.jsx)(r,{size:18})," Dịch vụ & Giá"]}),(0,b.jsxs)("button",{onClick:()=>d("medications"),className:`px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ${"medications"===a?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[(0,b.jsx)(v.Pill,{size:18})," Kho Thuốc"]})]}),(0,b.jsxs)("main",{className:"animate-in fade-in duration-300",children:["staff"===a&&(0,b.jsx)(l,{}),"patients"===a&&(0,b.jsx)(q,{}),"services"===a&&(0,b.jsx)(u,{}),"medications"===a&&(0,b.jsx)(w,{})]})]})}a.s(["default",()=>z],10179)}];

//# sourceMappingURL=src_app_admin_page_tsx_645532da._.js.map