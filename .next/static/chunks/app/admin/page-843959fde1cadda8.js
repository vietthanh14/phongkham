(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{3143:(e,t,s)=>{Promise.resolve().then(s.bind(s,1137))},1137:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var a=s(5155),n=s(2115),r=s(1712),l=s(4057);let i=(0,l.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var c=s(6426),d=s(4683),o=s(689);let x=(0,l.A)("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var m=s(5524);function h(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!1),[h,u]=(0,n.useState)(null),[p,g]=(0,n.useState)({name:"",role:"Receptionist"});async function b(){l(!0);let{data:e}=await r.N.from("staff").select("*").order("id",{ascending:!0});e&&t(e),l(!1)}async function j(){if(!p.name||!p.role)return alert("Vui l\xf2ng nhập t\xean v\xe0 chức vụ");if(h){let{error:e}=await r.N.from("staff").update(p).eq("id",h);e||(u(null),g({name:"",role:"Receptionist"}),b())}else{let{error:e}=await r.N.from("staff").insert([p]);e||(g({name:"",role:"Receptionist"}),b())}}async function N(e,t){let{error:s}=await r.N.from("staff").update({is_active:!t}).eq("id",e);s||b()}return(0,n.useEffect)(()=>{b()},[]),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)(i,{size:20,className:"text-primary"})," Quản l\xfd Nh\xe2n sự"]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 flex gap-4 items-end border",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:"Họ t\xean nh\xe2n vi\xean"}),(0,a.jsx)("input",{type:"text",className:"w-full border p-2 rounded text-sm",placeholder:"VD: Nguyễn Văn A",value:p.name,onChange:e=>g({...p,name:e.target.value})})]}),(0,a.jsxs)("div",{className:"w-48",children:[(0,a.jsx)("label",{className:"block text-xs font-medium mb-1 text-gray-500",children:"Chức vụ"}),(0,a.jsxs)("select",{className:"w-full border p-2 rounded text-sm",value:p.role,onChange:e=>g({...p,role:e.target.value}),children:[(0,a.jsx)("option",{value:"Receptionist",children:"Lễ t\xe2n"}),(0,a.jsx)("option",{value:"Doctor",children:"B\xe1c sĩ"}),(0,a.jsx)("option",{value:"Technician",children:"Kỹ thuật vi\xean"})]})]}),(0,a.jsxs)("button",{onClick:j,className:"bg-primary text-white px-4 py-2 rounded flex items-center gap-2 hover:bg-blue-600 transition-colors text-sm",children:[h?(0,a.jsx)(c.A,{size:16}):(0,a.jsx)(d.A,{size:16}),h?"Lưu":"Th\xeam"]}),h&&(0,a.jsx)("button",{onClick:function(){u(null),g({name:"",role:"Receptionist"})},className:"bg-gray-200 text-gray-700 px-4 py-2 rounded hover:bg-gray-300 transition-colors text-sm",children:(0,a.jsx)(o.A,{size:16})})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-gray-100 text-gray-600 font-medium",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-3 rounded-tl-lg",children:"ID"}),(0,a.jsx)("th",{className:"p-3",children:"Họ t\xean"}),(0,a.jsx)("th",{className:"p-3",children:"Chức vụ"}),(0,a.jsx)("th",{className:"p-3",children:"Trạng th\xe1i"}),(0,a.jsx)("th",{className:"p-3 rounded-tr-lg text-right",children:"Thao t\xe1c"})]})}),(0,a.jsx)("tbody",{className:"divide-y",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsxs)("td",{className:"p-3 text-gray-500",children:["#",e.id]}),(0,a.jsx)("td",{className:"p-3 font-medium",children:e.name}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium border ".concat("Doctor"===e.role?"bg-blue-50 text-blue-700 border-blue-200":"Receptionist"===e.role?"bg-purple-50 text-purple-700 border-purple-200":"bg-orange-50 text-orange-700 border-orange-200"),children:"Doctor"===e.role?"B\xe1c sĩ":"Receptionist"===e.role?"Lễ t\xe2n":"KTV"})}),(0,a.jsx)("td",{className:"p-3",children:(0,a.jsxs)("span",{className:"text-xs flex items-center gap-1 ".concat(e.is_active?"text-green-600":"text-gray-400"),children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full ".concat(e.is_active?"bg-green-500":"bg-gray-300")}),e.is_active?"Hoạt động":"Đ\xe3 ẩn"]})}),(0,a.jsxs)("td",{className:"p-3 text-right flex justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>{u(e.id),g({name:e.name,role:e.role})},className:"p-1.5 text-blue-600 hover:bg-blue-50 rounded",title:"Sửa",children:(0,a.jsx)(x,{size:16})}),(0,a.jsx)("button",{onClick:()=>N(e.id,e.is_active),className:"p-1.5 rounded transition-colors ".concat(e.is_active?"text-red-500 hover:bg-red-50":"text-green-500 hover:bg-green-50"),title:e.is_active?"Ẩn nh\xe2n vi\xean":"K\xedch hoạt lại",children:e.is_active?(0,a.jsx)(m.A,{size:16}):(0,a.jsx)(c.A,{size:16})})]})]},e.id))})]})})]})}var u=s(2472),p=s(2591),g=s(8313),b=s(504);function j(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!1),[i,d]=(0,n.useState)(""),[h,j]=(0,n.useState)(null),[N,f]=(0,n.useState)({}),[y,v]=(0,n.useState)(null);async function w(){l(!0);let{data:e}=await r.N.from("patients").select("*").order("created_at",{ascending:!1}).limit(20);e&&t(e),l(!1)}async function k(){if(!i){w();return}l(!0);let{data:e}=await r.N.from("patients").select("*").or("full_name.ilike.%".concat(i,"%,cccd.eq.").concat(i)).limit(20);e&&t(e),l(!1)}async function C(){if(!h)return;let{error:s}=await r.N.from("patients").update(N).eq("id",h);s?alert("Lỗi khi lưu!"):(l(!0),t(e.map(e=>e.id===h?{...e,...N}:e)),j(null),l(!1))}async function _(s){if(!confirm("H\xe0nh động n\xe0y kh\xf4ng thể ho\xe0n t\xe1c. Bạn chắc chắn chứ?"))return;l(!0),await r.N.from("visits").delete().eq("patient_id",s);let{error:a}=await r.N.from("patients").delete().eq("id",s);a?alert("Lỗi khi x\xf3a: "+a.message):(t(e.filter(e=>e.id!==s)),alert("Đ\xe3 x\xf3a bệnh nh\xe2n th\xe0nh c\xf4ng.")),l(!1)}return(0,n.useEffect)(()=>{w()},[]),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,a.jsx)(u.A,{size:20,className:"text-primary"})," Quản l\xfd Bệnh nh\xe2n"]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-6",children:[(0,a.jsx)("input",{type:"text",className:"flex-1 border p-2 rounded-lg text-sm",placeholder:"T\xecm theo T\xean hoặc CCCD...",value:i,onChange:e=>d(e.target.value),onKeyDown:e=>"Enter"===e.key&&k()}),(0,a.jsxs)("button",{onClick:k,className:"bg-primary text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors flex items-center gap-2 text-sm",children:[(0,a.jsx)(p.A,{size:16})," T\xecm kiếm"]})]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-gray-100 text-gray-600 font-medium",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-3 rounded-tl-lg",children:"CCCD"}),(0,a.jsx)("th",{className:"p-3",children:"Họ t\xean"}),(0,a.jsx)("th",{className:"p-3",children:"Năm sinh"}),(0,a.jsx)("th",{className:"p-3",children:"SĐT"}),(0,a.jsx)("th",{className:"p-3",children:"Địa chỉ"}),(0,a.jsx)("th",{className:"p-3 rounded-tr-lg text-right",children:"Sửa"})]})}),(0,a.jsxs)("tbody",{className:"divide-y",children:[s&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"p-4 text-center text-gray-400",children:"Đang tải..."})}),!s&&0===e.length&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:6,className:"p-4 text-center text-gray-400 italic",children:"Nhập từ kh\xf3a để t\xecm kiếm..."})}),e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-3",children:h===e.id?(0,a.jsx)("input",{value:N.cccd||"",onChange:e=>f({...N,cccd:e.target.value}),className:"w-full border p-1 rounded"}):e.cccd}),(0,a.jsx)("td",{className:"p-3 font-medium",children:h===e.id?(0,a.jsx)("input",{value:N.full_name||"",onChange:e=>f({...N,full_name:e.target.value}),className:"w-full border p-1 rounded"}):e.full_name}),(0,a.jsx)("td",{className:"p-3",children:h===e.id?(0,a.jsx)("input",{type:"date",value:N.dob?new Date(N.dob).toISOString().split("T")[0]:"",onChange:e=>f({...N,dob:e.target.value}),className:"w-24 border p-1 rounded"}):e.dob?new Date(e.dob).getFullYear():"-"}),(0,a.jsx)("td",{className:"p-3",children:h===e.id?(0,a.jsx)("input",{value:N.phone||"",onChange:e=>f({...N,phone:e.target.value}),className:"w-full border p-1 rounded"}):e.phone}),(0,a.jsx)("td",{className:"p-3 max-w-[200px] truncate",title:e.address||"",children:h===e.id?(0,a.jsx)("input",{value:N.address||"",onChange:e=>f({...N,address:e.target.value}),className:"w-full border p-1 rounded"}):e.address}),(0,a.jsx)("td",{className:"p-3 text-right",children:h===e.id?(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{onClick:C,className:"text-green-600 hover:bg-green-50 p-1.5 rounded",children:(0,a.jsx)(c.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>j(null),className:"text-gray-500 hover:bg-gray-100 p-1.5 rounded",children:(0,a.jsx)(o.A,{size:16})})]}):(0,a.jsxs)("div",{className:"flex gap-1 justify-end",children:[(0,a.jsx)("button",{onClick:()=>{j(e.id),f({...e})},className:"text-blue-600 hover:bg-blue-50 p-1.5 rounded",title:"Sửa",children:(0,a.jsx)(x,{size:16})}),(0,a.jsx)("button",{onClick:()=>v(e),className:"text-purple-600 hover:bg-purple-50 p-1.5 rounded",title:"Xem bệnh sử",children:(0,a.jsx)(g.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>{confirm("CẢNH B\xc1O: X\xf3a bệnh nh\xe2n ".concat(e.full_name," sẽ x\xf3a to\xe0n bộ lịch sử kh\xe1m!\nBạn c\xf3 chắc chắn kh\xf4ng?"))&&_(e.id)},className:"text-red-600 hover:bg-red-50 p-1.5 rounded",title:"X\xf3a vĩnh viễn",children:(0,a.jsx)(m.A,{size:16})})]})})]},e.id))]})]})}),y&&(0,a.jsx)(b.A,{patient:y,onClose:()=>v(null)})]})}let N=(0,l.A)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var f=s(3261),y=s(1680);function v(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!1),[i,h]=(0,n.useState)({name:"",price:""}),[u,p]=(0,n.useState)(null),[g,b]=(0,n.useState)({price:"",name:""}),[j,v]=(0,n.useState)(null);async function w(){l(!0);let{data:e,error:s}=await r.N.from("service_catalog").select("*").order("id",{ascending:!0});e?t(e):s&&(console.error(s),"42P01"===s.code&&v({type:"error",text:'Bảng dữ liệu "service_catalog" chưa được tạo. Vui l\xf2ng chạy SQL trong db/schema.sql'})),l(!1)}async function k(){if(!i.name||!i.price)return;l(!0);let{error:e}=await r.N.from("service_catalog").insert([{name:i.name,price:Number(i.price),is_active:!0}]);e?v({type:"error",text:"Lỗi: "+e.message}):(h({name:"",price:""}),w(),v({type:"success",text:"Th\xeam dịch vụ th\xe0nh c\xf4ng"})),l(!1)}async function C(e){l(!0);let{error:t}=await r.N.from("service_catalog").update({name:g.name,price:Number(g.price)}).eq("id",e);t?v({type:"error",text:"Lỗi cập nhật: "+t.message}):(p(null),w(),v({type:"success",text:"Cập nhật th\xe0nh c\xf4ng"})),l(!1)}async function _(e,t){let{error:s}=await r.N.from("service_catalog").update({is_active:!t}).eq("id",e);s||w()}async function A(e){if(!confirm("Bạn c\xf3 chắc muốn x\xf3a dịch vụ n\xe0y?"))return;let{error:t}=await r.N.from("service_catalog").delete().eq("id",e);t?v({type:"error",text:"Lỗi x\xf3a: "+t.message}):(w(),v({type:"success",text:"Đ\xe3 x\xf3a dịch vụ"}))}return(0,n.useEffect)(()=>{w()},[]),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(N,{size:20,className:"text-primary"})," Quản l\xfd Dịch vụ & Bảng gi\xe1"]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 flex gap-3 items-end border",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"T\xean dịch vụ"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded text-sm",placeholder:"V\xed dụ: Si\xeau \xe2m bụng, X-Quang...",value:i.name,onChange:e=>h({...i,name:e.target.value})})]}),(0,a.jsxs)("div",{className:"w-40",children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Đơn gi\xe1 (VNĐ)"}),(0,a.jsx)("input",{type:"number",className:"w-full border p-2 rounded text-sm",placeholder:"0",value:i.price,onChange:e=>h({...i,price:e.target.value})})]}),(0,a.jsxs)("button",{onClick:k,disabled:s||!i.name||!i.price,className:"bg-primary text-white px-4 py-2 rounded hover:bg-blue-600 disabled:opacity-50 flex items-center gap-2 text-sm h-[38px]",children:[(0,a.jsx)(d.A,{size:16})," Th\xeam"]})]}),j&&(0,a.jsxs)("div",{className:"mb-4 p-3 rounded flex items-center gap-2 text-sm ".concat("success"===j.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:["success"===j.type?(0,a.jsx)(f.A,{size:16}):(0,a.jsx)(y.A,{size:16}),j.text]}),(0,a.jsx)("div",{className:"overflow-hidden border rounded-lg",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-gray-100 text-gray-600 font-medium",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-3",children:"T\xean dịch vụ"}),(0,a.jsx)("th",{className:"p-3 text-right",children:"Đơn gi\xe1"}),(0,a.jsx)("th",{className:"p-3 text-center",children:"Trạng th\xe1i"}),(0,a.jsx)("th",{className:"p-3 text-right",children:"Thao t\xe1c"})]})}),(0,a.jsxs)("tbody",{className:"divide-y",children:[0===e.length&&!s&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"p-4 text-center text-gray-400",children:"Chưa c\xf3 dịch vụ n\xe0o."})}),e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-3",children:u===e.id?(0,a.jsx)("input",{value:g.name,onChange:e=>b({...g,name:e.target.value}),className:"border p-1 rounded w-full"}):(0,a.jsx)("span",{className:e.is_active?"":"text-gray-400 line-through",children:e.name})}),(0,a.jsx)("td",{className:"p-3 text-right font-mono",children:u===e.id?(0,a.jsx)("input",{type:"number",value:g.price,onChange:e=>b({...g,price:e.target.value}),className:"border p-1 rounded w-32 text-right"}):e.price.toLocaleString("vi-VN")+" ₫"}),(0,a.jsx)("td",{className:"p-3 text-center",children:(0,a.jsx)("button",{onClick:()=>_(e.id,e.is_active),className:"px-2 py-0.5 rounded text-xs border ".concat(e.is_active?"bg-green-50 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200"),children:e.is_active?"Đang d\xf9ng":"Đ\xe3 ẩn"})}),(0,a.jsx)("td",{className:"p-3 text-right",children:u===e.id?(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>C(e.id),className:"text-green-600 p-1 hover:bg-green-50 rounded",children:(0,a.jsx)(c.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>p(null),className:"text-gray-500 p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(o.A,{size:16})})]}):(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>{p(e.id),b({name:e.name,price:e.price.toString()})},className:"text-blue-600 p-1 hover:bg-blue-50 rounded",children:(0,a.jsx)(x,{size:16})}),(0,a.jsx)("button",{onClick:()=>A(e.id),className:"text-red-600 p-1 hover:bg-red-50 rounded",children:(0,a.jsx)(m.A,{size:16})})]})})]},e.id))]})]})})]})}var w=s(6152);function k(){let[e,t]=(0,n.useState)([]),[s,l]=(0,n.useState)(!1),[i,h]=(0,n.useState)({name:"",unit:""}),[u,p]=(0,n.useState)(null),[g,b]=(0,n.useState)({name:"",unit:""}),[j,N]=(0,n.useState)(null);async function v(){l(!0);let{data:e,error:s}=await r.N.from("medications").select("id, name, unit, is_active").order("name",{ascending:!0});e?t(e):s&&(console.error("Error fetching meds:",s),N({type:"error",text:"Lỗi tải danh s\xe1ch thuốc: "+(s.message||"Kh\xf4ng r\xf5")})),l(!1)}async function k(){if(!i.name||!i.unit)return;l(!0);let{error:e}=await r.N.from("medications").insert([{name:i.name,unit:i.unit,is_active:!0}]);e?N({type:"error",text:"Lỗi: "+e.message}):(h({name:"",unit:""}),v(),N({type:"success",text:"Th\xeam thuốc th\xe0nh c\xf4ng"})),l(!1)}async function C(e){l(!0);let{error:t}=await r.N.from("medications").update({name:g.name,unit:g.unit}).eq("id",e);t?N({type:"error",text:"Lỗi cập nhật: "+t.message}):(p(null),v(),N({type:"success",text:"Cập nhật th\xe0nh c\xf4ng"})),l(!1)}async function _(e,t){let{error:s}=await r.N.from("medications").update({is_active:!t}).eq("id",e);s||v()}async function A(e){if(!confirm("Bạn c\xf3 chắc muốn x\xf3a thuốc n\xe0y?"))return;let{error:t}=await r.N.from("medications").delete().eq("id",e);t?N({type:"error",text:"Lỗi x\xf3a: "+t.message}):(v(),N({type:"success",text:"Đ\xe3 x\xf3a thuốc"}))}return(0,n.useEffect)(()=>{v()},[]),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-xl border shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",children:[(0,a.jsx)(w.A,{size:20,className:"text-primary"})," Danh s\xe1ch Thuốc (Đơn giản)"]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 flex gap-3 items-end border",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"T\xean thuốc"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded text-sm",placeholder:"V\xed dụ: Paracetamol 500mg...",value:i.name,onChange:e=>h({...i,name:e.target.value})})]}),(0,a.jsxs)("div",{className:"w-32",children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Đơn vị"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded text-sm",placeholder:"Vi\xean, Vỉ...",value:i.unit,onChange:e=>h({...i,unit:e.target.value})})]}),(0,a.jsxs)("button",{onClick:k,disabled:s||!i.name||!i.unit,className:"bg-primary text-white px-4 py-2 rounded hover:bg-blue-600 disabled:opacity-50 flex items-center gap-2 text-sm h-[38px]",children:[(0,a.jsx)(d.A,{size:16})," Th\xeam"]})]}),j&&(0,a.jsxs)("div",{className:"mb-4 p-3 rounded flex items-center gap-2 text-sm ".concat("success"===j.type?"bg-green-50 text-green-700":"bg-red-50 text-red-700"),children:["success"===j.type?(0,a.jsx)(f.A,{size:16}):(0,a.jsx)(y.A,{size:16}),j.text]}),(0,a.jsx)("div",{className:"overflow-hidden border rounded-lg",children:(0,a.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,a.jsx)("thead",{className:"bg-gray-100 text-gray-600 font-medium",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"p-3",children:"T\xean thuốc"}),(0,a.jsx)("th",{className:"p-3 w-32",children:"Đơn vị"}),(0,a.jsx)("th",{className:"p-3 text-center w-32",children:"Trạng th\xe1i"}),(0,a.jsx)("th",{className:"p-3 text-right w-24",children:"Thao t\xe1c"})]})}),(0,a.jsxs)("tbody",{className:"divide-y",children:[0===e.length&&!s&&(0,a.jsx)("tr",{children:(0,a.jsx)("td",{colSpan:4,className:"p-4 text-center text-gray-400",children:"Danh s\xe1ch trống."})}),e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"p-3",children:u===e.id?(0,a.jsx)("input",{value:g.name,onChange:e=>b({...g,name:e.target.value}),className:"border p-1 rounded w-full"}):(0,a.jsxs)("div",{className:"font-medium",children:[e.name,!e.is_active&&(0,a.jsx)("span",{className:"ml-2 text-xs bg-gray-200 text-gray-500 px-1 rounded",children:"Đ\xe3 ẩn"})]})}),(0,a.jsx)("td",{className:"p-3",children:u===e.id?(0,a.jsx)("input",{value:g.unit,onChange:e=>b({...g,unit:e.target.value}),className:"border p-1 rounded w-full"}):(0,a.jsx)("span",{className:"text-gray-500",children:e.unit})}),(0,a.jsx)("td",{className:"p-3 text-center",children:(0,a.jsx)("button",{onClick:()=>_(e.id,e.is_active),className:"px-2 py-0.5 rounded text-xs border ".concat(e.is_active?"bg-green-50 text-green-700 border-green-200":"bg-gray-100 text-gray-500 border-gray-200"),children:e.is_active?"Hiện":"Ẩn"})}),(0,a.jsx)("td",{className:"p-3 text-right",children:u===e.id?(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>C(e.id),className:"text-green-600 p-1 hover:bg-green-50 rounded",children:(0,a.jsx)(c.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>p(null),className:"text-gray-500 p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(o.A,{size:16})})]}):(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)("button",{onClick:()=>{p(e.id),b({name:e.name,unit:e.unit})},className:"text-blue-600 p-1 hover:bg-blue-50 rounded",children:(0,a.jsx)(x,{size:16})}),(0,a.jsx)("button",{onClick:()=>A(e.id),className:"text-red-600 p-1 hover:bg-red-50 rounded",children:(0,a.jsx)(m.A,{size:16})})]})})]},e.id))]})]})})]})}let C=(0,l.A)("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);var _=s(437);function A(){let[e,t]=(0,n.useState)("staff");return(0,a.jsxs)("div",{className:"container mx-auto p-4 max-w-6xl",children:[(0,a.jsxs)("header",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 flex items-center gap-2",children:[(0,a.jsx)(C,{className:"text-primary",size:32}),"Quản trị Hệ thống"]}),(0,a.jsx)("p",{className:"text-gray-500 mt-2",children:"Quản l\xfd nh\xe2n sự, dịch vụ v\xe0 kho thuốc"})]}),(0,a.jsxs)("div",{className:"flex gap-2 mb-6 border-b overflow-x-auto",children:[(0,a.jsxs)("button",{onClick:()=>t("staff"),className:"px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ".concat("staff"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(_.A,{size:18})," Nh\xe2n sự"]}),(0,a.jsxs)("button",{onClick:()=>t("patients"),className:"px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ".concat("patients"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(_.A,{size:18})," Bệnh nh\xe2n"]}),(0,a.jsxs)("button",{onClick:()=>t("services"),className:"px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ".concat("services"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(N,{size:18})," Dịch vụ & Gi\xe1"]}),(0,a.jsxs)("button",{onClick:()=>t("medications"),className:"px-6 py-3 font-medium text-sm flex items-center gap-2 border-b-2 transition-colors whitespace-nowrap ".concat("medications"===e?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:[(0,a.jsx)(w.A,{size:18})," Kho Thuốc"]})]}),(0,a.jsxs)("main",{className:"animate-in fade-in duration-300",children:["staff"===e&&(0,a.jsx)(h,{}),"patients"===e&&(0,a.jsx)(j,{}),"services"===e&&(0,a.jsx)(v,{}),"medications"===e&&(0,a.jsx)(k,{})]})]})}},1680:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},2591:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(4057).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[223,178,441,517,358],()=>t(3143)),_N_E=e.O()}]);